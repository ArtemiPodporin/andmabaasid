
create table film(
filmid int primary key AUTO_INCREMENT,
filmnimetus varchar(50),
kestvus int,
rezisoor varchar(50),
v_aasta int);

CREATE PROCEDURE `otsing1taht`(IN `taht` CHAR(1)) NOT DETERMINISTIC CONTAINS SQL SQL SECURITY DEFINER 
  
  begin
	select * from film
	where filmnimetus like concat(taht,'%');
end;
--protseduuri käivitamine
call otsing1taht ('C');

--filmi kustsustamine
CREATE PROCEDURE `otsing1taht`(IN `taht` CHAR(1)) NOT DETERMINISTIC CONTAINS SQL SQL SECURITY DEFINER 

begin
select * from film;
delete from film where filmid=@id;
select * from film;
end;

--ne robit
call kustutaFilm (15);


--proceduur mis täidab tabeli film
begin
insert into film (filmnimetus, kestvus, rezisoor, v_aasta)
values (uusfilm, kestvus, rezisoor, aasta);
select * from film;
end;
